<!DOCTYPE html>
<html lang="pt-BR">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=5.0, user-scalable=yes">
    <title>Controle de Viewport - AgroMail</title>
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.5.0/css/all.min.css">
    <style>
        :root {
            --primary: #4CAF50;
            --secondary: #2196F3;
            --dark: #333;
            --light: #f5f5f5;
            --panel: #ffffff;
            --border: #ddd;
            --text: #333;
            --hover: #45a049;
        }

        * {
            box-sizing: border-box;
        }

        body {
            margin: 0;
            padding: 0;
            font-family: Arial, sans-serif;
            background-color: var(--light);
            color: var(--text);
            transition: all 0.3s ease;
            min-height: 100vh;
        }

        /* Container principal para simular viewport */
        .viewport-container {
            width: 100%;
            margin: 0 auto;
            padding: 20px;
            background: white;
            min-height: 100vh;
            box-shadow: 0 0 20px rgba(0,0,0,0.1);
            transition: all 0.3s ease;
        }

        /* Botão de Controle de Viewport */
        .viewport-btn {
            position: fixed;
            top: 20px;
            right: 20px;
            background-color: var(--primary);
            border: 2px solid var(--border);
            border-radius: 8px;
            width: 50px;
            height: 50px;
            cursor: pointer;
            box-shadow: 0 2px 8px rgba(0,0,0,0.2);
            display: flex;
            align-items: center;
            justify-content: center;
            transition: all 0.3s;
            z-index: 1000;
        }

        .viewport-btn:hover {
            transform: scale(1.1);
            background-color: var(--hover);
        }

        .viewport-btn i {
            font-size: 24px;
            color: white;
        }

        /* Painel de Controle de Viewport */
        .viewport-panel {
            position: fixed;
            top: 80px;
            right: 20px;
            background-color: var(--panel);
            border: 2px solid var(--border);
            border-radius: 12px;
            box-shadow: 0 4px 16px rgba(0,0,0,0.2);
            padding: 20px;
            width: 450px;
            text-align: center;
            opacity: 0;
            pointer-events: none;
            transform: translateX(20px);
            transition: all 0.3s ease;
            z-index: 1000;
        }

        .viewport-panel.active {
            opacity: 1;
            pointer-events: auto;
            transform: translateX(0);
        }

        .viewport-panel h3 {
            margin: 0 0 20px 0;
            color: var(--dark);
            font-size: 1.4rem;
        }

        /* Opções de Viewport */
        .viewport-options {
            display: grid;
            grid-template-columns: repeat(2, 1fr);
            gap: 15px;
            margin-bottom: 20px;
        }

        .viewport-option {
            display: flex;
            flex-direction: column;
            align-items: center;
            gap: 10px;
            cursor: pointer;
            padding: 15px;
            border-radius: 8px;
            border: 2px solid transparent;
            transition: all 0.3s;
            background: rgba(0,0,0,0.05);
        }

        .viewport-option:hover {
            border-color: var(--primary);
            background: rgba(76, 175, 80, 0.1);
            transform: translateY(-2px);
        }

        .viewport-option.active {
            border-color: var(--primary);
            background: rgba(76, 175, 80, 0.2);
        }

        .viewport-icon {
            font-size: 36px;
            color: var(--primary);
            transition: transform 0.3s;
        }

        .viewport-option[data-viewport="mobile"] .viewport-icon {
            transform: rotate(90deg);
        }

        .viewport-name {
            font-size: 1.1rem;
            font-weight: 600;
            color: var(--dark);
        }

        .viewport-desc {
            font-size: 0.9rem;
            color: #666;
            text-align: center;
        }

        /* Pré-visualização */
        .viewport-preview {
            margin-top: 20px;
            padding-top: 20px;
            border-top: 2px solid var(--border);
        }

        .preview-title {
            font-weight: 600;
            margin-bottom: 15px;
            color: var(--dark);
            font-size: 1.1rem;
        }

        .preview-container {
            width: 100%;
            height: 200px;
            border: 2px solid var(--border);
            border-radius: 8px;
            display: flex;
            align-items: center;
            justify-content: center;
            background: linear-gradient(135deg, #f5f7fa 0%, #c3cfe2 100%);
            overflow: hidden;
            position: relative;
        }

        .device-preview {
            background: white;
            border: 2px solid #333;
            border-radius: 8px;
            position: relative;
            box-shadow: 0 4px 12px rgba(0,0,0,0.1);
            overflow: hidden;
        }

        .device-screen {
            background: #f0f0f0;
            display: flex;
            align-items: center;
            justify-content: center;
            overflow: hidden;
            position: relative;
        }

        .screen-content {
            width: 100%;
            height: 100%;
            display: flex;
            flex-direction: column;
            align-items: center;
            justify-content: center;
            padding: 10px;
            background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
        }

        .resolution {
            position: absolute;
            bottom: 5px;
            right: 5px;
            background: rgba(0,0,0,0.7);
            color: white;
            padding: 2px 6px;
            border-radius: 3px;
            font-size: 0.8rem;
        }

        /* Controles */
        .viewport-controls {
            display: flex;
            gap: 10px;
            margin-top: 20px;
        }

        .viewport-controls button {
            flex: 1;
            padding: 12px;
            border: none;
            border-radius: 6px;
            font-weight: 600;
            cursor: pointer;
            transition: all 0.3s;
        }

        .btn-apply {
            background: var(--primary);
            color: white;
        }

        .btn-cancel {
            background: #f44336;
            color: white;
        }

        .btn-reset {
            background: #ff9800;
            color: white;
        }

        .viewport-controls button:hover {
            opacity: 0.9;
            transform: translateY(-2px);
        }

        /* Modal de confirmação */
        .modal-overlay {
            position: fixed;
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
            background: rgba(0,0,0,0.5);
            display: none;
            justify-content: center;
            align-items: center;
            z-index: 2000;
        }

        .modal-overlay.active {
            display: flex;
        }

        .modal {
            background: white;
            padding: 30px;
            border-radius: 12px;
            text-align: center;
            max-width: 400px;
            width: 90%;
            box-shadow: 0 8px 32px rgba(0,0,0,0.3);
        }

        .modal h4 {
            margin: 0 0 15px 0;
            color: var(--dark);
        }

        .modal p {
            margin: 0 0 20px 0;
            color: #666;
        }

        .modal-buttons {
            display: flex;
            gap: 10px;
            justify-content: center;
        }

        .modal-buttons button {
            padding: 10px 20px;
            border: none;
            border-radius: 6px;
            cursor: pointer;
            font-weight: 600;
            transition: all 0.3s;
        }

        .btn-confirm {
            background: var(--primary);
            color: white;
        }

        .btn-cancel-modal {
            background: #f44336;
            color: white;
        }

        /* Classes de viewport que realmente alteram a página */
        body.viewport-mobile .viewport-container {
            max-width: 480px; /* ALTERADO: de 720px para 480px */
            transform: scale(0.8);
            transform-origin: top center;
            margin: 0 auto;
            border: 2px dashed #4CAF50;
        }

        body.viewport-tablet .viewport-container {
            max-width: 1024px;
            transform: scale(0.85);
            transform-origin: top center;
            margin: 0 auto;
            border: 2px dashed #2196F3;
        }

        body.viewport-notebook .viewport-container {
            max-width: 1440px;
            margin: 0 auto;
            border: 2px dashed #FF9800;
        }

        body.viewport-desktop .viewport-container {
            max-width: 1920px;
            margin: 0 auto;
            border: 2px dashed #9C27B0;
        }

        /* Indicador de viewport ativo */
        .viewport-indicator {
            position: fixed;
            top: 10px;
            left: 10px;
            background: rgba(0,0,0,0.8);
            color: white;
            padding: 5px 10px;
            border-radius: 4px;
            font-size: 0.8rem;
            z-index: 999;
            display: none;
        }

        body.viewport-mobile .viewport-indicator,
        body.viewport-tablet .viewport-indicator,
        body.viewport-notebook .viewport-indicator,
        body.viewport-desktop .viewport-indicator {
            display: block;
        }

        /* Responsividade */
        @media (max-width: 768px) {
            .viewport-panel {
                width: 90%;
                right: 5%;
                padding: 15px;
            }

            .viewport-options {
                grid-template-columns: 1fr;
            }

            .preview-container {
                height: 150px;
            }
        }

        @media (max-width: 480px) {
            .viewport-panel {
                top: 70px;
                padding: 12px;
            }

            .viewport-controls {
                flex-direction: column;
            }

            .preview-container {
                height: 120px;
            }
        }
    </style>
</head>
<body class="viewport-desktop">
    <!-- Indicador de viewport ativo -->
    <div class="viewport-indicator" id="viewportIndicator">
        Modo: Desktop (1920×1080)
    </div>

    <!-- Botão de Controle de Viewport -->
    <button class="viewport-btn" id="viewportToggle" title="Configurar Visualização da Tela">
        <i class="fas fa-expand-alt"></i>
    </button>

    <!-- Painel de Controle de Viewport -->
    <div class="viewport-panel" id="viewportPanel">
        <h3>CONFIGURAR VISUALIZAÇÃO DA TELA</h3>
        
        <div class="viewport-options">
            <!-- Smartphone deitado (CORRIGIDO: 480 × 720) -->
            <div class="viewport-option" data-viewport="mobile">
                <div class="viewport-icon">
                    <i class="far fa-mobile-screen"></i>
                </div>
                <div class="viewport-name">Smartphone</div>
                <div class="viewport-desc">480 × 720<br></div> <!-- ALTERADO -->
            </div>
            
            <!-- Tablet -->
            <div class="viewport-option" data-viewport="tablet">
                <div class="viewport-icon">
                    <i class="fas fa-tablet-alt"></i>
                </div>
                <div class="viewport-name">Tablet</div>
                <div class="viewport-desc">1024 × 768</div>
            </div>
            
            <!-- Notebook -->
            <div class="viewport-option" data-viewport="notebook">
                <div class="viewport-icon">
                    <i class="fas fa-laptop"></i>
                </div>
                <div class="viewport-name">Notebook</div>
                <div class="viewport-desc">1440 × 900</div>
            </div>
            
            <!-- PC Desktop -->
            <div class="viewport-option" data-viewport="desktop">
                <div class="viewport-icon">
                    <i class="fas fa-desktop"></i>
                </div>
                <div class="viewport-name">Desktop</div>
                <div class="viewport-desc">1920 × 1080</div>
            </div>
        </div>
        
        <div class="viewport-preview">
            <div class="preview-title">Visualização Atual:</div>
            <div class="preview-container" id="viewportPreview">
                <!-- A pré-visualização será injetada aqui via JavaScript -->
            </div>
        </div>
        
        <div class="viewport-controls">
            <button class="btn-apply" id="applyViewport">Aplicar Configuração</button>
            <button class="btn-cancel" id="cancelViewport">Cancelar</button>
            <button class="btn-reset" id="resetViewport">Resetar para Padrão</button>
        </div>
    </div>

    <!-- Modal de Confirmação -->
    <div class="modal-overlay" id="confirmationModal">
        <div class="modal">
            <h4>Confirmar Alteração</h4>
            <p id="modalMessage">Deseja realmente aplicar esta configuração de visualização?</p>
            <div class="modal-buttons">
                <button class="btn-confirm" id="confirmApply">Sim, Aplicar</button>
                <button class="btn-cancel-modal" id="cancelApply">Cancelar</button>
            </div>
        </div>
    </div>

    <!-- Container principal da página -->
    <div class="viewport-container" id="mainContent">
        <!-- Exemplo de conteúdo da página -->
        <header style="background: linear-gradient(135deg, #667eea 0%, #764ba2 100%); color: white; padding: 30px; border-radius: 8px; margin-bottom: 30px;">
            <h1 style="margin: 0; font-size: 2.5rem;">AgroMail System</h1>
            <p style="margin: 10px 0 0 0; font-size: 1.2rem;">Sistema de Gerenciamento de Ordens de Serviço</p>
        </header>

        <nav style="background: white; padding: 15px; border-radius: 8px; margin-bottom: 30px; box-shadow: 0 2px 8px rgba(0,0,0,0.1);">
            <ul style="display: flex; gap: 20px; list-style: none; margin: 0; padding: 0;">
                <li><a href="#" style="text-decoration: none; color: var(--primary); font-weight: 600;">Dashboard</a></li>
                <li><a href="#" style="text-decoration: none; color: #666;">Ordens</a></li>
                <li><a href="#" style="text-decoration: none; color: #666;">Cultivares</a></li>
                <li><a href="#" style="text-decoration: none; color: #666;">Relatórios</a></li>
                <li><a href="#" style="text-decoration: none; color: #666;">Configurações</a></li>
            </ul>
        </nav>

        <div style="display: grid; grid-template-columns: repeat(auto-fit, minmax(300px, 1fr)); gap: 30px;">
            <!-- Card 1 -->
            <div style="background: white; padding: 25px; border-radius: 8px; box-shadow: 0 2px 8px rgba(0,0,0,0.1);">
                <div style="display: flex; align-items: center; gap: 15px; margin-bottom: 20px;">
                    <div style="background: #4CAF50; width: 50px; height: 50px; border-radius: 8px; display: flex; align-items: center; justify-content: center;">
                        <i class="fas fa-clipboard-list" style="color: white; font-size: 24px;"></i>
                    </div>
                    <div>
                        <h3 style="margin: 0; color: var(--dark);">Ordens Abertas</h3>
                        <p style="margin: 5px 0 0 0; color: #666;">Status atual do sistema</p>
                    </div>
                </div>
                <div style="font-size: 2.5rem; font-weight: bold; color: var(--primary);">12</div>
                <p style="color: #666; margin: 10px 0 0 0;">Ordens pendentes de processamento</p>
            </div>

            <!-- Card 2 -->
            <div style="background: white; padding: 25px; border-radius: 8px; box-shadow: 0 2px 8px rgba(0,0,0,0.1);">
                <div style="display: flex; align-items: center; gap: 15px; margin-bottom: 20px;">
                    <div style="background: #2196F3; width: 50px; height: 50px; border-radius: 8px; display: flex; align-items: center; justify-content: center;">
                        <i class="fas fa-check-circle" style="color: white; font-size: 24px;"></i>
                    </div>
                    <div>
                        <h3 style="margin: 0; color: var(--dark);">Ordens Finalizadas</h3>
                        <p style="margin: 5px 0 0 0; color: #666;">Este mês</p>
                    </div>
                </div>
                <div style="font-size: 2.5rem; font-weight: bold; color: #2196F3;">48</div>
                <p style="color: #666; margin: 10px 0 0 0;">Ordens concluídas com sucesso</p>
            </div>

            <!-- Card 3 -->
            <div style="background: white; padding: 25px; border-radius: 8px; box-shadow: 0 2px 8px rgba(0,0,0,0.1);">
                <div style="display: flex; align-items: center; gap: 15px; margin-bottom: 20px;">
                    <div style="background: #FF9800; width: 50px; height: 50px; border-radius: 8px; display: flex; align-items: center; justify-content: center;">
                        <i class="fas fa-seedling" style="color: white; font-size: 24px;"></i>
                    </div>
                    <div>
                        <h3 style="margin: 0; color: var(--dark);">Cultivares</h3>
                        <p style="margin: 5px 0 0 0; color: #666;">Cadastradas no sistema</p>
                    </div>
                </div>
                <div style="font-size: 2.5rem; font-weight: bold; color: #FF9800;">24</div>
                <p style="color: #666; margin: 10px 0 0 0;">Tipos de cultivares disponíveis</p>
            </div>
        </div>

        <!-- Tabela de exemplo -->
        <div style="margin-top: 40px; background: white; padding: 25px; border-radius: 8px; box-shadow: 0 2px 8px rgba(0,0,0,0.1);">
            <h2 style="margin: 0 0 20px 0; color: var(--dark);">Últimas Ordens</h2>
            <table style="width: 100%; border-collapse: collapse;">
                <thead>
                    <tr style="background: #f5f5f5;">
                        <th style="padding: 12px; text-align: left; border-bottom: 2px solid #ddd;">ID</th>
                        <th style="padding: 12px; text-align: left; border-bottom: 2px solid #ddd;">Cliente</th>
                        <th style="padding: 12px; text-align: left; border-bottom: 2px solid #ddd;">Cultivar</th>
                        <th style="padding: 12px; text-align: left; border-bottom: 2px solid #ddd;">Quantidade</th>
                        <th style="padding: 12px; text-align: left; border-bottom: 2px solid #ddd;">Status</th>
                    </tr>
                </thead>
                <tbody>
                    <tr>
                        <td style="padding: 12px; border-bottom: 1px solid #eee;">#001</td>
                        <td style="padding: 12px; border-bottom: 1px solid #eee;">Fazenda São João</td>
                        <td style="padding: 12px; border-bottom: 1px solid #eee;">Soja X1</td>
                        <td style="padding: 12px; border-bottom: 1px solid #eee;">500kg</td>
                        <td style="padding: 12px; border-bottom: 1px solid #eee;"><span style="background: #4CAF50; color: white; padding: 4px 8px; border-radius: 4px; font-size: 0.85rem;">Ativo</span></td>
                    </tr>
                    <tr>
                        <td style="padding: 12px; border-bottom: 1px solid #eee;">#002</td>
                        <td style="padding: 12px; border-bottom: 1px solid #eee;">Agropecuária Silva</td>
                        <td style="padding: 12px; border-bottom: 1px solid #eee;">Milho H2</td>
                        <td style="padding: 12px; border-bottom: 1px solid #eee;">750kg</td>
                        <td style="padding: 12px; border-bottom: 1px solid #eee;"><span style="background: #FF9800; color: white; padding: 4px 8px; border-radius: 4px; font-size: 0.85rem;">Pendente</span></td>
                    </tr>
                    <tr>
                        <td style="padding: 12px; border-bottom: 1px solid #eee;">#003</td>
                        <td style="padding: 12px; border-bottom: 1px solid #eee;">Cooperativa Rural</td>
                        <td style="padding: 12px; border-bottom: 1px solid #eee;">Trigo T5</td>
                        <td style="padding: 12px; border-bottom: 1px solid #eee;">1000kg</td>
                        <td style="padding: 12px; border-bottom: 1px solid #eee;"><span style="background: #4CAF50; color: white; padding: 4px 8px; border-radius: 4px; font-size: 0.85rem;">Ativo</span></td>
                    </tr>
                </tbody>
            </table>
        </div>

        <footer style="margin-top: 40px; padding: 20px; text-align: center; color: #666; border-top: 1px solid #eee;">
            <p>© 2024 AgroMail System. Todos os direitos reservados.</p>
            <p>Teste o sistema de viewport usando o botão no canto superior direito!</p>
        </footer>
    </div>

    <script>
        // Configurações de cada viewport (CORRIGIDO: smartphone 480 × 720)
        const viewportConfigs = {
            'mobile': {
                name: 'Smartphone',
                width: 480,   // ALTERADO: de 720 para 480
                height: 720,  // ALTERADO: de 480 para 720
                icon: 'mobile-alt',
                landscape: true,
                description: 'Smartphone na orientação paisagem'
            },
            'tablet': {
                name: 'Tablet',
                width: 1024,
                height: 768,
                icon: 'tablet-alt',
                landscape: true,
                description: 'Tablet padrão'
            },
            'notebook': {
                name: 'Notebook',
                width: 1440,
                height: 900,
                icon: 'laptop',
                landscape: true,
                description: 'Notebook com tela widescreen'
            },
            'desktop': {
                name: 'Desktop',
                width: 1920,
                height: 1080,
                icon: 'desktop',
                landscape: true,
                description: 'Monitor Full HD'
            }
        };

        // Elementos DOM
        const viewportToggle = document.getElementById('viewportToggle');
        const viewportPanel = document.getElementById('viewportPanel');
        const cancelViewport = document.getElementById('cancelViewport');
        const applyViewport = document.getElementById('applyViewport');
        const resetViewport = document.getElementById('resetViewport');
        const viewportOptions = document.querySelectorAll('.viewport-option');
        const viewportPreview = document.getElementById('viewportPreview');
        const confirmationModal = document.getElementById('confirmationModal');
        const confirmApply = document.getElementById('confirmApply');
        const cancelApply = document.getElementById('cancelApply');
        const modalMessage = document.getElementById('modalMessage');
        const viewportIndicator = document.getElementById('viewportIndicator');
        const body = document.body;

        // Estado atual
        let currentViewport = localStorage.getItem('viewportMode') || 'desktop';
        let selectedViewport = currentViewport;

        // Inicializar
        function initViewport() {
            // Aplicar viewport salvo
            applyViewportMode(currentViewport);
            
            // Atualizar interface
            updateViewportOptions();
            createViewportPreview();
            
            // Atualizar indicador
            updateViewportIndicator();
        }

        // Atualizar opções selecionadas
        function updateViewportOptions() {
            viewportOptions.forEach(option => {
                if (option.dataset.viewport === currentViewport) {
                    option.classList.add('active');
                } else {
                    option.classList.remove('active');
                }
            });
        }

        // Criar pré-visualização
        function createViewportPreview() {
            const config = viewportConfigs[selectedViewport];
            const previewScale = calculatePreviewScale(config.width, config.height);
            
            viewportPreview.innerHTML = `
                <div class="device-preview" style="
                    width: ${config.width * previewScale}px;
                    height: ${config.height * previewScale}px;
                ">
                    <div class="device-screen" style="
                        width: ${config.width * previewScale}px;
                        height: ${config.height * previewScale}px;
                    ">
                        <div class="screen-content">
                            <i class="fas fa-${config.icon}" style="font-size: ${24 * previewScale}px; color: white; margin-bottom: ${10 * previewScale}px;"></i>
                            <span style="font-size: ${12 * previewScale}px; color: white; font-weight: bold;">${config.name}</span>
                            <span style="font-size: ${10 * previewScale}px; color: rgba(255,255,255,0.9);">${config.width} × ${config.height}</span>
                        </div>
                        <div class="resolution">${config.width} × ${config.height}</div>
                    </div>
                </div>
            `;
        }

        // Calcular escala para pré-visualização
        function calculatePreviewScale(width, height) {
            const maxWidth = 400;
            const maxHeight = 180;
            
            const scaleX = maxWidth / width;
            const scaleY = maxHeight / height;
            
            return Math.min(scaleX, scaleY, 0.15);
        }

        // Aplicar modo de viewport
        function applyViewportMode(mode) {
            const config = viewportConfigs[mode];
            
            // Remover todas as classes de viewport
            body.classList.remove('viewport-mobile', 'viewport-tablet', 'viewport-notebook', 'viewport-desktop');
            
            // Adicionar a classe correta
            body.classList.add(`viewport-${mode}`);
            
            // Atualizar o container principal
            const container = document.getElementById('mainContent');
            
            // Aplicar transformação baseada no modo
            switch(mode) {
                case 'mobile':
                    container.style.maxWidth = `${config.width}px`; // Agora 480px
                    container.style.transform = 'scale(0.8)';
                    container.style.transformOrigin = 'top center';
                    break;
                case 'tablet':
                    container.style.maxWidth = `${config.width}px`;
                    container.style.transform = 'scale(0.85)';
                    container.style.transformOrigin = 'top center';
                    break;
                case 'notebook':
                    container.style.maxWidth = `${config.width}px`;
                    container.style.transform = 'none';
                    break;
                case 'desktop':
                    container.style.maxWidth = `${config.width}px`;
                    container.style.transform = 'none';
                    break;
            }
            
            // Salvar no localStorage
            localStorage.setItem('viewportMode', mode);
            currentViewport = mode;
            selectedViewport = mode;
            
            // Atualizar interface
            updateViewportOptions();
            updateViewportIndicator();
            
            // Mostrar notificação
            showNotification(`Modo ${config.name} aplicado (${config.width}×${config.height})`);
        }

        // Atualizar indicador
        function updateViewportIndicator() {
            const config = viewportConfigs[currentViewport];
            viewportIndicator.textContent = `Modo: ${config.name} (${config.width}×${config.height})`;
        }

        // Mostrar notificação
        function showNotification(message) {
            // Remover notificação anterior se existir
            const existingNotification = document.querySelector('.viewport-notification');
            if (existingNotification) {
                existingNotification.remove();
            }
            
            // Criar nova notificação
            const notification = document.createElement('div');
            notification.className = 'viewport-notification';
            notification.textContent = message;
            notification.style.cssText = `
                position: fixed;
                top: 20px;
                left: 50%;
                transform: translateX(-50%);
                background: #4CAF50;
                color: white;
                padding: 12px 24px;
                border-radius: 6px;
                box-shadow: 0 4px 12px rgba(0,0,0,0.2);
                z-index: 2000;
                font-weight: 600;
                animation: slideDown 0.3s ease;
            `;
            
            document.body.appendChild(notification);
            
            // Remover após 3 segundos
            setTimeout(() => {
                notification.style.animation = 'slideUp 0.3s ease';
                setTimeout(() => notification.remove(), 300);
            }, 3000);
        }

        // Event Listeners
        // Abrir/fechar painel
        viewportToggle.addEventListener('click', (e) => {
            e.stopPropagation();
            viewportPanel.classList.toggle('active');
        });

        // Fechar painel ao clicar fora
        document.addEventListener('click', (e) => {
            if (!viewportPanel.contains(e.target) && !viewportToggle.contains(e.target)) {
                viewportPanel.classList.remove('active');
            }
        });

        // Fechar painel com ESC
        document.addEventListener('keydown', (e) => {
            if (e.key === 'Escape') {
                viewportPanel.classList.remove('active');
                confirmationModal.classList.remove('active');
            }
        });

        // Cancelar
        cancelViewport.addEventListener('click', () => {
            viewportPanel.classList.remove('active');
            selectedViewport = currentViewport;
            createViewportPreview();
        });

        // Selecionar opção
        viewportOptions.forEach(option => {
            option.addEventListener('click', () => {
                selectedViewport = option.dataset.viewport;
                
                // Atualar seleção visual
                viewportOptions.forEach(opt => opt.classList.remove('active'));
                option.classList.add('active');
                
                // Atualar pré-visualização
                createViewportPreview();
            });
        });

        // Aplicar configuração
        applyViewport.addEventListener('click', () => {
            if (selectedViewport === currentViewport) {
                showNotification(`O modo ${viewportConfigs[selectedViewport].name} já está ativo`);
                return;
            }
            
            const config = viewportConfigs[selectedViewport];
            modalMessage.textContent = `Deseja alterar para o modo ${config.name} (${config.width}×${config.height})?`;
            confirmationModal.classList.add('active');
        });

        // Confirmar aplicação
        confirmApply.addEventListener('click', () => {
            applyViewportMode(selectedViewport);
            viewportPanel.classList.remove('active');
            confirmationModal.classList.remove('active');
            createViewportPreview();
        });

        // Cancelar aplicação
        cancelApply.addEventListener('click', () => {
            confirmationModal.classList.remove('active');
            selectedViewport = currentViewport;
            createViewportPreview();
        });

        // Resetar
        resetViewport.addEventListener('click', () => {
            selectedViewport = 'desktop';
            applyViewportMode('desktop');
            viewportPanel.classList.remove('active');
            createViewportPreview();
        });

        // Inicializar ao carregar
        document.addEventListener('DOMContentLoaded', initViewport);

        // Adicionar estilo para animações
        const style = document.createElement('style');
        style.textContent = `
            @keyframes slideDown {
                from { transform: translateX(-50%) translateY(-20px); opacity: 0; }
                to { transform: translateX(-50%) translateY(0); opacity: 1; }
            }
            @keyframes slideUp {
                from { transform: translateX(-50%) translateY(0); opacity: 1; }
                to { transform: translateX(-50%) translateY(-20px); opacity: 0; }
            }
        `;
        document.head.appendChild(style);
    </script>
</body>
</html>